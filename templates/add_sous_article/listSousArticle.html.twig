{% extends 'adminBase.html.twig' %}
    {% block stylesheets %}
        <link rel="stylesheet" href="{{ asset('https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css') }}">
        <link rel="stylesheet" href="{{ asset('https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css') }}">
    {% endblock %}
 {% block  body %}
     <section class="container">
         <h2 class="text-center">Liste des sous articles</h2>
         <div class="container-fluid">

             <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                 {% for message in app.flashes('deleted') %}
                     <div class="alert alert-danger">
                         {{ message }}
                     </div>
                 {% endfor %}
                 {% for message in app.flashes('success') %}
                     <div class="alert alert-success">
                         {{ message }}
                     </div>
                 {% endfor %}
                 <div class="header">
                     {#                <h2>Users</h2>#}
                     {#                <span class=" btn-sm bg-red badge">In total &nbsp;#}
                     {#                                 <div style="float: right;" id="inTotal"> </div></span>#}
                     {#            </div>#}
                     <div class="float-left">
                         <a class="btn btn-success  waves-effect float-right" href="{{ path('add_sous_article') }}" style="float: right !important;">Add Sous article</a>
                     </div>
                     <br><br>
                     <div class="table-responsive">
                         <div class="table-container">
                             <table id="memListTable">
                                 <thead>
                                 <th>id</th>
                                 <th>Catalogue Article</th>
                                 <th>Nom</th>
                                 <th>Dimension</th>
                                 <th>Description</th>
                                 <th>Actions</th>
                                 </thead>
                             </table>
                         </div>
                     </div>

                 </div>
             </div>
         </div>
     </section>
 {% endblock %}
{% block javascripts %}

    <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <script src="{{ asset('assets/js/bootstrap.js') }}"></script>
    <script src="{{ asset('https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js') }}"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <script>
        $(document).ready(function fill_datatable(filter_cat='') {
            $('#memListTable').DataTable({
                "serverSide": true,
                "order": [],
                "ajax": {
                    "url": "/sousArticles",
                    "data":
                        function (d) {
                            return $.extend({}, d, {
                                "filter[cat]": filter_cat,
                            })
                        }
                }
                // "drawCallback": function (settings) {
                //     $('#inTotal').text(' ' + settings.json['recordsTotal']);
                // }
            });
        });
    </script>
{% endblock %}
